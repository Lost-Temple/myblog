---
title: Rust学习-知识点-6
tags:
  - loop
  - break
  - 语句
  - 表达式
cover: 'https://s2.loli.net/2022/11/19/1FMB2dWImuyEX9i.jpg'
categories: 
  - Rust
  - 基础
abbrlink: 64607
date: 2022-11-19 20:48:59
---

# 语句和表达式

- 函数体由一系列语句组成
- 函数可以由一个表达式结束（这种情况下，表达式的值为函数的返回值）
- `rust`是基于表达式的语言
- 语句是执行一些动作的指令
- 表达式会计算产生一个值

```rust
fn main() {
  let x = 0;
  let y = {
    let x = 1; // 我就是第5行
    x + 1
  };
}
```

**注：第5行， x + 1 后面的无`;`。这里`x + 1`就是一个表达式，它的计算结果就返回赋值给了`y`。**

那如果`x + 1`后面加上`;`呢？即：

```rust
fn main() {
  let x = 0;
  let y = {
    let x = 1; // 我就是第5行
    x + 1;
  };
}
```

这个编译出是可以通过的，这个时候`y`的数据类型是`空的元组`类型，也就是`()`； 类似的：`rust`中没有显示指定函数返回值的，那这个函数返回值类型为`()`。就相当于`c++`里面的返回类型为`void`的函数

看下面一个例子：

```rust
fn main() {
  let mut counter = 0;
  let result = loop {
    counter += 1;
    if counter == 10 {
      break counter * 2; // 第6行
    }
  };
}
```

`loop`为死循环，一个死循环赋值给了`result`, 是不是有点费解，这里就要理解第6行的代码的意思了。这里面使用了`break`语句。

`break count * 2;`的意思就是跳出循环，并返回`break`后面的表达式的值。这里有人会疑惑，刚才不是说表达式是不带`;`的吗？那现在`counter * 2;`这里不是有`;`吗？`break counter * 2;` 是个语句，它是需要`;`的。所以这里的`;`是整个语句的分号，这个语句是用`break`跳出循环并返回表达式`counter * 2`，没毛病。

**每天进步一点点，学海无涯！**
